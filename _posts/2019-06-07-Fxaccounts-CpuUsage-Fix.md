---
layout: post_layout
title: 禁用Firefox同步账号导致的cpu异常占用
time: 2019年06月07日 星期五
location: 中国
pulished: true
excerpt_separator: "<!--more-->"
---



无意中发现火狐在关闭所有网页后主进程还在占用 6%-7% (htop里显示单线程)的cpu，如果是按总量4个线程大概就1%，我也发现不了，也就没后边的折腾了。

刚开始怀疑的是后台活动导致的，关了一些自动更新推送之类的还是没用。

接着发现刚打开firefox时是正常的，打开附加组件管理器后就开始持续cpu占用了。关了一些附加组件管理器的功能还是老样子。

没头绪了，又试了几次原来是打开三道杠菜单后才会导致异常。之前都是通过三道杠打开的附加组件管理器，用地址栏打开about:addons就没事。点开三道杠研究了下也没什么神奇的，三道杠也不能定制。
<!--more-->

不弄明白心里像搁了根刺。要彻底排除设置问题还得新建配置，打开配置文件管理器，新建了个配置启动，果然点击三道杠后没有异常。看了下比原来的三道杠多了个同步账号，难道是禁用同步账号的锅。about:config里把identity.fxaccounts.enabled恢复成true，重启firefox再点击三道杠后，到htop里看cpu占用是0%。

诡异的bug。